@model List<Inventory>


<h2>Inventory</h2>

<table id="inventoryTable" class="display">
    <thead>
        <tr>
            <th>Item Name</th>
            <th>Quantity</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var inv in Model)
        {
            foreach (var item in inv.Items)
            {
                <tr>
                    <td>@item.Item.Name</td>
                    <td id="qty-@item.Id">@item.Quantity</td>
                    <td>
                        <button class="btn btn-sm btn-success increase-btn"
                               
                                data-inventoryitemid="@item.Id">
                            +50
                        </button>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>
@section Scripts{
    <script>
        $(document).ready(function () {
            $('#inventoryTable').DataTable();
        });


            $(document).on("click", ".increase-btn", function () {
           var inventoryItemId = $(this).data("inventoryitemid");


            $.post("/Inventory/IncreaseQuantity", { inventoryItemId: inventoryItemId, amount: 50 })
                .done(function (data) {
                    if (data.success) {
                        $("#qty-" + inventoryItemId).text(data.newQuantity);
                    }
                });
        });
    </script>

}
